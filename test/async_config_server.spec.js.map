{"version":3,"sources":["async_config_server.spec.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AACA,iBAAe;AACf,4BAA0B;AAC1B,qCAAqC;AACrC,iCAAiC;AACjC,gCAKgB;AAChB,yCAAuC;AACvC,yCAAsC;AAItC,IAAM,aAAa,GAAnB;IAEY,KAAK;QACT,OAAO,KAAK,CAAC;IACjB,CAAC;CACJ,CAAA;AAHG;IADC,SAAG,CAAC,GAAG,CAAC;;;;0CAGR;AAJC,aAAa;IAFlB,gBAAU,CAAC,MAAM,CAAC;IAClB,sBAAU,EAAE;GACP,aAAa,CAKlB;AAKD,IAAI,SAAS,GAAG,IAAI,qBAAS,EAAE,CAAC;AAChC,SAAS,CAAC,IAAI,CAAwB,UAAI,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,eAAe,CAAC,eAAe,CAAC,CAAC;AAC1G,IAAI,MAAM,GAAG,IAAI,yBAAmB,CAAC,SAAS,EAAE,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;AAC/D,MAAM,CAAC,SAAS,CAAC,CAAM,GAAG,EAAE,EAAE;IAC1B,MAAM,GAAG,CAAC,QAAQ,CAAC;QACf,MAAM,EAAE,OAAO,CAAC,WAAW,CAAC;KAC/B,CAAC,CAAC;AACP,CAAC,CAAA,CAAC,CAAC;AAIH,QAAQ,CAAC,aAAa,EAAE,GAAQ,EAAE;IAC9B,MAAM,cAAc,GAAG,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC;IAC5C,EAAE,CAAC,2BAA2B,EAAE,GAAQ,EAAE;QACtC,IAAI;YACD,MAAM,QAAQ,GAAI,MAAM,OAAO,CAAC,cAAc,CAAC,QAAQ,CAAC;iBAClD,GAAG,CAAC,OAAO,CAAC;iBACZ,MAAM,CAAC,GAAG,CAAC,CAAC;YACjB,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YACnC,CAAC;SACJ;QAAC,OAAO,GAAG,EAAE;YACV,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,MAAM,GAAG,CAAC;SACb;IACL,CAAC,CAAA,CAAC,CAAC;AACP,CAAC,CAAA,CAAC,CAAC","file":"async_config_server.spec.js","sourcesContent":["\nimport \"mocha\";\nimport \"reflect-metadata\";\nimport * as request from \"supertest\";\nimport * as assert from \"assert\";\nimport { InversifyHapiServer,\n    Controller,\n    interfaces,\n    TYPE,\n    Get,\n} from \"../src\";\nimport { injectable } from \"inversify\";\nimport { Container } from \"inversify\";\n\n@Controller(\"/foo\")\n@injectable()\nclass FooController implements interfaces.Controller {\n    @Get(\"/\")\n    private index(): string {\n        return \"foo\";\n    }\n}\n\n\n\n/// Server\nlet container = new Container();\ncontainer.bind<interfaces.Controller>(TYPE.Controller).to(FooController).whenTargetNamed(\"FooController\");\nlet server = new InversifyHapiServer(container, { port: 8080});\nserver.setConfig(async(app) => {\n    await app.register({\n        plugin: require(\"hapi-pino\")\n    });\n});\n\n\n/// Tests\ndescribe(\"hapi server\", async() => {\n    const serverInstance = await server.build();\n    it(\"Should return 200 for get\", async() => {\n        try {\n           const response =  await request(serverInstance.listener)\n                .get(\"/foo/\")\n                .expect(200);\n            assert.equal(response.text, \"foo\");\n            ;\n        } catch (err) {\n            console.log(err);\n            throw err;\n        }\n    });\n});\n"],"sourceRoot":"/Users/ericsonm/inversify-project/inversify-hapijs-utils/test"}